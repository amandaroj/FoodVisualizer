

  <div class="container">
    <div class="d-flex justify-content-between align-items-center">
      <div class = "title">
        <h1><%=@menu.name%></h1>
        <h4><%=@menu.restaurant.name%></h4>
      </div>
      <div class="btns-menu-dishes">
      <%= link_to qr_path(restaurant_id: @menu.restaurant), class: "button-47" do%>
      <i class="fa-solid fa-qrcode"></i> &nbsp; QR Code
      <% end %>

  <div class="d-flex justify-content-between align-items-center">
    <div class = "title">
      <h1><%=@menu.name%></h1>
      <h4><%=@menu.restaurant.name%></h4>
    </div>
    <%= link_to qr_path(restaurant_id: @menu.restaurant), class: "button-47 button-47-menupage" do%>
    <i class="fa-solid fa-qrcode"></i> &nbsp; QR Code
    <% end %>

    <%= link_to preview_scanned_path(restaurant_id: @menu.restaurant), class: "button-47" do %>
    <i class="fa-solid fa-eye"></i> &nbsp; View as Guest
    <% end %>


      <%= link_to scanned_path(restaurant_id: @menu.restaurant), class: "button-47" do %>
      <i class="fa-solid fa-eye"></i> &nbsp; View as Guest
      <% end %>

    <%= link_to "Add a Dish +", new_restaurant_menu_dish_path(@menu.restaurant, @menu), class: "main_button"%>

      </div>

  </div>

  <% @dishes.each do |dish| %>
      <div class="cards-dishes d-flex">
        <div class="card-picture">
          <% if dish.photos.attached? %>
            <div id="carouselExampleControls-<%= dish.id %>" class="carousel slide" data-ride="carousel" data-interval = "false">
            <%# data-bs-ride to data-ride and added data-interval = "false" %>
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <%= cl_image_tag dish.photos.first.key, class: 'd-block w-100 card-picture-borders picture-dish-card', height: 300, width: 400, crop: :fill %>
                </div>
                <% dish.photos.drop(1).each do |photo| %>
                  <div class="carousel-item">
                    <%= cl_image_tag photo.key, class: 'd-block w-10 picture-dish-card', height: 300, width: 400, crop: :fill %>
                  </div>
                <% end %>
              </div>
              <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls-<%= dish.id %>" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls-<%= dish.id %>" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
              </button>
            </div>
          <% else %>
            <%= image_tag "logo.jpeg", class: "card-picture-borders picture-dish-card card-picture" %>
            <%# the image tag makes the path for you %>
          <% end %>
        </div>

        <div class="col">
          <div class="card-block px-2 text-card-dishes">
            <h3><%=dish.name%></h3>
            <p class="dish-category"><%=@menu.category%></p>
            <p ><%=dish.description%></p>
            <p>Price: <%=dish.price%></p>
            <div class = "buttons_in_card">
              <%=link_to "Edit", edit_restaurant_menu_dish_path(@menu.restaurant, @menu, dish), class: "secondary_button" %>
            </div>
            <div class = "trashcan-div">
              <%=link_to restaurant_menu_dish_path(@menu.restaurant, @menu, dish), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"} do%>
                <i class="fa-solid fa-trash trashcan"></i>
              <% end %>
            </div>
          </div>
         </div>
      </div>
  <% end%>
  </div>
